<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LOON: My Other Page Title</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LOON
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">My Other Page Title </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>setup</p>
<h1><a class="anchor" id="autotoc_md0"></a>
&lt;strong&gt;Introduction to loon&lt;/strong&gt;</h1>
<h3><a class="anchor" id="autotoc_md1"></a>
&lt;strong&gt;R.W. Oldford&lt;/strong&gt;</h3>
<ul>
<li><a href="#introduction-to-loon"><b>Introduction to loon</b></a><ul>
<li><a href="#rw-oldford"><b>R.W. Oldford</b></a></li>
</ul>
</li>
<li><a href="#lplot-the-basic-loon-plot"><code>lplot()</code> the basic <code>loon</code> plot</a><ul>
<li><a href="#direct-manipulation-on-the-plot">Direct manipulation on the plot</a><ul>
<li><a href="#panning">Panning</a></li>
<li><a href="#zooming">Zooming</a></li>
<li><a href="#selecting">Selecting</a></li>
</ul>
</li>
<li><a href="#the-inspector----interacting-with-the-plot">The inspector &ndash; interacting with the plot</a></li>
<li><a href="#more-on-direct-manipulation">More on direct manipulation</a><ul>
<li><a href="#on-brushing">on brushing</a></li>
<li><a href="#on-selection">on selection</a></li>
<li><a href="#moving-points">moving points</a></li>
<li><a href="#adding-colours-to-the-inspector">adding colours to the inspector</a></li>
<li><a href="#changing-the-inspector-palette-of-colours">changing the inspector palette of colours</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#loon-graphics-note-that-the-result-is-assigned-to-p">loon graphics (note that the result is assigned to p)</a></li>
<li><a href="#accessing-the-plot-from-its-string-representation">accessing the plot from its string representation</a></li>
<li><a href="#number-in-group-1-eg-as-you-might-have----here-from-saved-colours">Number in group 1 (e.g. as you might have &ndash; here from saved colours)</a></li>
<li><a href="#data-on-first-few-quakes-in-group-1">Data on first few quakes in group 1.</a></li>
<li><a href="#something-a-little-more-involved-for-up-to-6-groups">something a little more involved for up to 6 groups</a></li>
<li><a href="#something-crazy">something crazy</a></li>
<li><a href="#putting-locations-and-size-back">putting locations and size back</a></li>
<li><a href="#base-graphics">Base graphics</a></li>
<li><a href="#loon-graphics">loon graphics</a></li>
<li><a href="#first-scale-the-data">First, scale the data</a></li>
<li><a href="#or-more-simply-via-the-online-manual">or more simply via the online manual</a><ul>
<li><a href="#teaching-demos">teaching demos</a></li>
<li><a href="#gapminder">gapminder</a></li>
<li><a href="#the-spatial-package-sp">the spatial package sp</a></li>
<li><a href="#layering-and-custom-layouts">layering and custom layouts</a></li>
<li><a href="#novel-brushing-and-linking">novel brushing and linking</a></li>
<li><a href="#high-dimensional-data-and-dimensionality-reduction">high dimensional data and dimensionality reduction</a></li>
</ul>
</li>
</ul>
<p>&lt;details&gt; </p>
<div class="fragment"><div class="line">#### temp </div>
<div class="line">import sys </div>
<div class="line">sys.path.append(&#39;/Users/tedwang/Documents/GitHub/loon/Python/&#39;)</div>
</div><!-- fragment --> <p>&lt;/details&gt;</p>
<div class="fragment"><div class="line">from loon import * </div>
</div><!-- fragment --><blockquote class="doxtable">
<p>"Exposure, the effective laying open of the data to display the unanticipated, 
is to us a major portion of data analysis." ... John Tukey and Martin Wilk (1966) </p>
</blockquote>
<p>Because loon is an interactive visualization system, this introduction is meant as a "hands on" tutorial. Not all interactions are from the command line (programmatic). Suggestions for interactions will also be given and questions that draw attention to the outcome of interactions.</p>
<p>After completing the tutorial, there are numerous other examples of using loon which can be explored. These include</p>
<ul>
<li>many of the common arguments to <code>l_plot()</code> are described in the help topic <code>?l_plot_arguments</code></li>
<li>the <code>R</code> <code>help(package = "loon")</code> pages for <code>loon</code>, or alternatively online via as <code>l_web()</code></li>
<li>other vignettes,</li>
<li>demos on particular topics given by <code>demo(package = "loon")</code>. These are especially useful because the source code for creating them appears in the console, and</li>
<li>the loon website appearing from <code>l_help()</code> or <code>R</code> manual only as <code>l_web()</code>.</li>
</ul>
<p>Here, we will walk through some of the <b>basic</b> functionality.</p>
<hr  />
<h1><a class="anchor" id="autotoc_md3"></a>
&lt;tt&gt;l_plot()&lt;/tt&gt; the basic &lt;tt&gt;loon&lt;/tt&gt; plot</h1>
<p>Begin with a simple scatterplot of the <code>quakes</code> data from <code>R</code></p>
<div class="fragment"><div class="line">l_plot(x = quakes[&quot;long&quot;], </div>
<div class="line">       y = quakes[&quot;lat&quot;], </div>
<div class="line">       xlabel = &quot;longitude&quot;, </div>
<div class="line">       ylabel = &quot;latitude&quot;,</div>
<div class="line">       title = &quot;Tonga trench earthquakes&quot;)</div>
<div class="line"> </div>
<div class="line">## &lt;loon_class.loon object at 0x117fdea10&gt;</div>
</div><!-- fragment --><p>This prints the above information on the loon plot (more on this later) and causes two windows to appear. <br  />
</p>
<p>One is the scatterplot:</p>
<p><img src="./images/intro/quakesOriginal.png" alt="" width="350" class="inline"/></p>
<p>and the other a "loon inspector":</p>
<p><img src="./images/intro/inspectorQuakesOriginal.png" alt="" width="250" height="560" class="inline"/></p>
<p>For the moment we'll focus mainly on the scatterplot.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md5"></a>
Direct manipulation on the plot</h2>
<p>The loon scatterplot is highly interactive and can be <b>directly manipulated</b> using the mouse. Several interactions are immediately available.</p>
<p>In what follows, images of a two button mouse (left is primary, right secondary) with a scroll wheel will be used to indicate the interaction. The colour red indicates selection, arrows and double images suggest movement, and any modifier keys are shown in the body of the mouse.</p>
<hr  />
<h3><a class="anchor" id="autotoc_md7"></a>
Panning</h3>
<p>To pan the plot, select the plot interior with the right (or secondary) mouse button and move the mouse (with the button still down). The direction of panning can be constrained by holding down the named modifier keys while panning.</p>
<p><img src="./images/intro/panning.png" alt="" class="inline"/></p>
<p>Try it. Select anywhere on the scatterplot and move it</p>
<ul>
<li>freely about</li>
<li>only horizontally</li>
<li>only vertically</li>
</ul>
<p><b>Question</b>: How did the inspector change in response to each movement?</p>
<p>Reproduce these movements on the smaller "World View" plot appearing at the top of the inspector. <br  />
</p>
<p>How does the larger scatterplot change?</p>
<hr  />
<h3><a class="anchor" id="autotoc_md9"></a>
Zooming</h3>
<p>Another way to dynamically focus on different parts of the plot is by zooming, using <b>scrolling</b>:</p>
<p><img src="./images/intro/zooming.png" alt="" class="inline"/></p>
<p>To try it, note that there is a small cluster of 16 points towards the top left of the scatterplot.</p>
<p>On the scatterplot,</p>
<ul>
<li>zoom in and out and move the plot around until <b>only</b> these 16 points appear in the scatterplot</li>
<li>use the restricted horizontal and vertical zooming so that the same 16 points occupy as much of the scatterplot's space as possible</li>
</ul>
<p><b>Question</b>: How has the inspector changed in response?</p>
<p>On the inspector click on the button titled <code>plot</code>. What happened?</p>
<p>Using zooming and panning on the "World View"</p>
<ul>
<li>focus the scatterplot on the <b>same</b> 16 points.</li>
</ul>
<hr  />
<h3><a class="anchor" id="autotoc_md11"></a>
Selecting</h3>
<p>There are two ways to directly select points on the scatterplot using the mouse: either by selection (one at a time or multiple selections) or by "sweep selection" as shown below:</p>
<p><img src="./images/intro/selecting.png" alt="drawing" width="350" class="inline"/></p>
<p>To try this out, on the scatterplot (which should contain only 16 points)</p>
<ul>
<li>place the mouse over the topmost point and click the left (or primary) mouse button<ul>
<li>the point will be highlighted (magenta coloured)</li>
</ul>
</li>
<li>hold the shift key down and select the leftmost, rightmost and bottom most points of the 16<ul>
<li>there should now be 4 magenta points</li>
</ul>
</li>
<li>colour these 4 points light blue and change their glyph to a triangle<ul>
<li>click on the background of the plot to see the change in colour</li>
</ul>
</li>
</ul>
<p><b>Question</b>: How has the inspector changed?</p>
<p>Now try a holding the left mouse button down and move the mouse. <br  />
</p>
<p>This is called <b>sweeping</b> or <b>sweep selection</b> and allows us to sweep out a contiguous area of the plot.</p>
<ul>
<li>use sweep select to identify, and give different colours (none black) to 4 different (roughly) contiguous groups of your choice from the 16 points.</li>
</ul>
<p><b>Check</b>: The 16 points should now be separated by colour into 4 groups and by glyph shape into 2 groups.</p>
<p><b>Question</b>: How has the inspector changed?</p>
<p>You will have already discovered how to colour selected points from the inspector. You can now use the inspector to <b>select</b> points by colour:</p>
<ul>
<li><b>from the inspector</b>, select all the points of each colour in turn.</li>
</ul>
<hr  />
<h2><a class="anchor" id="autotoc_md13"></a>
The inspector – interacting with the plot</h2>
<p>By the above experimentation, you will have already discovered how the inspector is used to change the loon plot.</p>
<p>For example, try checking the "guides" box on the inspector to place a background grid of guide lines on the loon plot. Unchecking removes the guide lines.</p>
<p>The loon inspector consists of several component pieces.</p>
<p>At the top is the "World View" which shows a miniature version of the <b>whole</b> of the current plot, what is displayed there, and what is active.</p>
<p>Below the "World View" are a few tabs. The default (and most used) one is the "Analysis" tab where common interactions are separated into three regions: the "Plot", the "Select", and the "Modify" systems.</p>
<p>Try (in order) the following interactions between the inspector and the plot:</p>
<ol type="1">
<li>select the black points only <br  />
</li>
<li>scale the plot to the selected points</li>
<li>invert the selection</li>
<li>colour the selected points red</li>
<li>select all points, and make them all have open circles as glyphs</li>
<li>select the red points and deactivate them</li>
<li>select brushing mode</li>
<li>brush select the remaining black points dividing them into two groups</li>
<li>colour one of these groups blue, the other orange</li>
<li>turn off the brush</li>
<li>re-activate the points</li>
<li>scale the scatterplot to the "world"</li>
<li>add guides (<b>no</b> scales)</li>
</ol>
<p><b>Check</b>: You should have a scatterplot of open circles with three clusters of points in red, blue, and orange</p>
<hr  />
<h2><a class="anchor" id="autotoc_md15"></a>
More on direct manipulation</h2>
<h3><a class="anchor" id="autotoc_md16"></a>
on brushing</h3>
<p>You should have a scatterplot of open circles with three clusters of points in red, blue, and orange.</p>
<p>Use the functionality of the loon inspector to (in order)</p>
<ol type="1">
<li>Using only colour selection from the inspector, select the largest group (and no others)</li>
<li>Turn on brushing (as opposed to sweeping) mode</li>
<li>Under <b>dynamic</b> selection, choose <b>deselect</b></li>
<li>Over the scatterplot use this brush mode to <b>deselect</b> the region nearest the highest density (shaped a bit like a question mark &ndash; ?)</li>
<li>Colour the selected points green (i.e. low density region of largest coloured group)</li>
</ol>
<p>You should now have four different coloured groups or clusters.</p>
<p><b>For fun</b>, in the inspector</p>
<ol type="1">
<li>select the green group</li>
<li>under <b>dynamic</b> selection, choose <b>invert</b></li>
<li>move the brush over the scatterplot</li>
<li>move the brush over the scatterplot while holding the <code>&lt;Shift&gt;</code> key</li>
</ol>
<p><b>Question</b>: What is going on? When might this functionality be useful?</p>
<hr  />
<h3><a class="anchor" id="autotoc_md18"></a>
on selection</h3>
<p>When done, turn the selection back to the defaults:</p>
<p><img src="./images/intro/inspectorSelectDefaults.png" alt="" width="300" height="100" class="inline"/></p>
<p>That is,</p>
<ul>
<li>[static:] none</li>
<li>[dynamic:] select</li>
<li>[by:] sweeping</li>
</ul>
<p>Shift selection works with any mix of</p>
<ul>
<li>individual point selection</li>
<li>static selection</li>
<li>dynamic selection by sweeping or brushing</li>
<li>by color</li>
</ul>
<p><b>Exercise</b>: Try out different combinations of the above selections.</p>
<hr  />
<h3><a class="anchor" id="autotoc_md20"></a>
moving points</h3>
<p>For a variety of reasons, we sometimes want to (temporarily) move points in a scatterplot.</p>
<p>From the inspector:</p>
<ol type="1">
<li>deactivate all but the small red group</li>
<li>select the red group and scale the plot to the selected</li>
<li>with these selected points, explore the effect of each of the <code>move</code> modifications on the configuration of the selected points</li>
<li>describe in words what each one does</li>
</ol>
<p>From the scatterplot, selected points may be moved by hand</p>
<ul>
<li>one at a time using <code>&lt;Ctrl&gt;-&lt;Left-button&gt;</code></li>
<li>in groups using <code>&lt;Shift&gt;&lt;Ctrl&gt;&lt;Left-button&gt;</code></li>
</ul>
<p>For example:</p>
<ol type="1">
<li>select the red group</li>
<li>move the red group to the bottom of the plot</li>
<li>return the red group to its original location</li>
</ol>
<hr  />
<h3><a class="anchor" id="autotoc_md22"></a>
adding colours to the inspector</h3>
<p><img src="./images/intro/inspectorQuakesPlus10Cols.png" alt="" width="200" height="500" class="inline"/></p>
<p>More colours can be added directly by clicking on the <code>+</code> or the <code>+5</code> in the colour modification section of the inspector.</p>
<ul>
<li>clicking <code>+5</code> twice adds 10 new colours</li>
<li>these colours will persist with the inspector for every loon scatterplot the inspector palette of colours</li>
</ul>
<p>The loon system <b>default</b> list of colours get be found programmatically:</p>
<div class="fragment"><div class="line">l_getColorList()</div>
</div><!-- fragment --><p>Note:</p>
<ul>
<li>loon colours are 6 hexadecimal digits in length and can be a named colour(e.g red, blue)</li>
<li>being constrained to tcl/tk colours, no alpha level is available at this time in loon</li>
</ul>
<hr  />
<h3><a class="anchor" id="autotoc_md24"></a>
changing the inspector palette of colours</h3>
<p>At the <b>beginning of a loon session</b> (that is, immediately after executing <code>import loon</code>) you might choose to change the default palette for the inspector to something that suits your tastes/problem.</p>
<p><b>Note</b>: There may be unintended side effects to changing the inspector colours after a plot (and hence the inspector) has been created so this should be avoided.</p>
<p>A variety of functions exist to change an inspector's palette of colours: ~~~~~~~~~~~~~~~~ </p><div class="fragment"><div class="line">l_setColorList_baseR()                             # base R palette</div>
<div class="line">l_setColorList_ColorBrewer(&quot;Set2&quot;)                 # colorblind friendly choice from ColorBrewer</div>
<div class="line">l_setColorList_hcl(luminance = 80)                 # set of hcl colours</div>
<div class="line">l_setColorList_ggplot2()                           # ggplot2&#39;s palette </div>
<div class="line">l_setColorList_loon()                              # default loon palette</div>
<div class="line">l_setColorList(l_colRemoveAlpha(rainbow(5)))       # any set of colours without alpha</div>
</div><!-- fragment --><p>To change the palette</p>
<ul>
<li>execute one of these functions</li>
<li>if the inspector is open (not recommended), then select the inspector and close it to force a refresh its colour palette.</li>
</ul>
<p><code>l_setColorList_loon()</code> returns the inspector to the default loon colour palette.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md26"></a>
Programmatic manipulation</h2>
<h3><a class="anchor" id="autotoc_md27"></a>
accessing the plot</h3>
<p>The plot itself is a (tcl) data structure and can be assigned to an <code>R</code> variable.</p>
<p>Either at construction (the preferable way):</p>
<div class="fragment"><div class="line"># loon graphics (note that the result is assigned to p)</div>
<div class="line">p &lt;- l_plot(x = quakes$long, y = quakes$lat, </div>
<div class="line">            xlabel = &quot;longitude&quot;, ylabel = &quot;latitude&quot;,</div>
<div class="line">            title = &quot;Tonga trench earthquakes&quot;)</div>
</div><!-- fragment --><p>or, if (as we did) you forgot to do that or reassigned something else to that variable (more likely), by accessing the plot from its <code>tcl</code> string:</p>
<div class="fragment"><div class="line"># accessing the plot from its string representation</div>
<div class="line">p &lt;- l_create_handle(&quot;.l0.plot&quot;)</div>
</div><!-- fragment --><p>Note that this string <code>".l0.plot"</code> appears on the right side of the window title of an <code>l_plot</code>.</p>
<p>Do this and assign your plot to <code>p</code>. You might have to look at the window to get the string if you have created more than one <code>l_plot()</code>.</p>
<hr  />
<h3><a class="anchor" id="autotoc_md29"></a>
printing the plot</h3>
<p>Were we to now print <code>p</code></p>
<div class="fragment"><div class="line">p </div>
</div><!-- fragment --><p>we get the string name of the plot, but with a class attribute. This is the <b>value</b> of <code>p</code> and provides us access to a very rich data structure, but one whose values reside in <code>tcl</code>.</p>
<p>For example, we can access this value and, like plots from <code>lattice</code> or <code>ggplot2</code> produce a <code>grid</code> data structure that can then be displayed as a <code>grid</code> graphic in <code>R</code>.</p>
<p>The simplest way to achieve this is to use the generic <code>R</code> function <code>plot()</code></p>
<div class="fragment"><div class="line">plot(p)</div>
</div><!-- fragment --><p>Note that this will always reflect the <em>current state of the loon plot</em>. In this way, you can get snapshots of the loon plot after any interaction.</p>
<p><b>Exercise</b>: Try this. Change <code>p</code> by direct manipulation in <code>loon</code> and repeat.</p>
<p>This allows the visual representation of a <code>loon</code> plot to be displayed at any time. <br  />
</p>
<hr  />
<h3><a class="anchor" id="autotoc_md31"></a>
getting plot contents</h3>
<p>There are <code>names</code> associated with a loon plot indicating its contents or <b>states</b>:</p>
<div class="fragment"><div class="line">names(p)</div>
</div><!-- fragment --><p>These features of <code>p</code> can be directly accessed the <code>[]</code> function.</p>
<p>For example,</p>
<div class="fragment"><div class="line">p[&quot;showGuides&quot;]</div>
</div><!-- fragment --><p>A more meaningful example might be identify groups with the colours of the points. <br  />
 This could be done simply as follows</p>
<div class="fragment"><div class="line">cols_saved &lt;- c(&quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;black&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;red&quot;, &quot;black&quot;, </div>
<div class="line">&quot;red&quot;, &quot;red&quot;, &quot;black&quot;, &quot;orange&quot;, &quot;black&quot;, &quot;red&quot;, </div>
<div class="line">&quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;black&quot;, &quot;red&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;red&quot;, &quot;red&quot;, &quot;black&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, </div>
<div class="line">&quot;red&quot;, &quot;black&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, </div>
<div class="line">&quot;black&quot;, &quot;red&quot;, &quot;red&quot;, &quot;black&quot;, &quot;orange&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;red&quot;, &quot;orange&quot;, &quot;black&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;black&quot;, </div>
<div class="line">&quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;black&quot;, &quot;red&quot;, </div>
<div class="line">&quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, </div>
<div class="line">&quot;red&quot;, &quot;red&quot;, &quot;steelblue&quot;, &quot;black&quot;, &quot;red&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;black&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;black&quot;, </div>
<div class="line">&quot;red&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;red&quot;, &quot;orange&quot;, &quot;black&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;black&quot;, &quot;black&quot;, &quot;red&quot;, &quot;black&quot;, &quot;orange&quot;, &quot;red&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;red&quot;, &quot;black&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, </div>
<div class="line">&quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;black&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, </div>
<div class="line">&quot;red&quot;, &quot;red&quot;, &quot;steelblue&quot;, &quot;steelblue&quot;, &quot;black&quot;, &quot;black&quot;, </div>
<div class="line">&quot;black&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;black&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;red&quot;, </div>
<div class="line">&quot;black&quot;, &quot;red&quot;, &quot;red&quot;, &quot;black&quot;, &quot;orange&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;orange&quot;, &quot;steelblue&quot;, &quot;red&quot;, &quot;black&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;steelblue&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;black&quot;, &quot;red&quot;, &quot;red&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;black&quot;, &quot;orange&quot;, &quot;black&quot;, &quot;black&quot;, &quot;red&quot;, </div>
<div class="line">&quot;black&quot;, &quot;red&quot;, &quot;black&quot;, &quot;black&quot;, &quot;red&quot;, &quot;red&quot;, </div>
<div class="line">&quot;black&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;red&quot;, &quot;black&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, </div>
<div class="line">&quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;red&quot;, </div>
<div class="line">&quot;red&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;black&quot;, </div>
<div class="line">&quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;steelblue&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;red&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;black&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;red&quot;, &quot;red&quot;, &quot;black&quot;, &quot;orange&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;black&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;black&quot;, &quot;red&quot;, </div>
<div class="line">&quot;red&quot;, &quot;orange&quot;, &quot;black&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, </div>
<div class="line">&quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;black&quot;, &quot;black&quot;, &quot;black&quot;, </div>
<div class="line">&quot;red&quot;, &quot;black&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;black&quot;, </div>
<div class="line">&quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;black&quot;, &quot;red&quot;, </div>
<div class="line">&quot;red&quot;, &quot;orange&quot;, &quot;black&quot;, &quot;black&quot;, &quot;red&quot;, &quot;red&quot;, </div>
<div class="line">&quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, </div>
<div class="line">&quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, </div>
<div class="line">&quot;black&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;black&quot;, &quot;red&quot;, &quot;red&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;black&quot;, </div>
<div class="line">&quot;steelblue&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;steelblue&quot;, &quot;red&quot;, </div>
<div class="line">&quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;steelblue&quot;, &quot;steelblue&quot;, </div>
<div class="line">&quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;red&quot;, &quot;black&quot;, </div>
<div class="line">&quot;red&quot;, &quot;black&quot;, &quot;black&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;black&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;black&quot;, &quot;orange&quot;, &quot;black&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;black&quot;, &quot;red&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;black&quot;, &quot;red&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;red&quot;, &quot;black&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;black&quot;, </div>
<div class="line">&quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;black&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;orange&quot;, &quot;black&quot;, &quot;black&quot;, &quot;orange&quot;, &quot;black&quot;, </div>
<div class="line">&quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;black&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, </div>
<div class="line">&quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;steelblue&quot;, &quot;orange&quot;, &quot;black&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;black&quot;, </div>
<div class="line">&quot;red&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;black&quot;, &quot;red&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;black&quot;, &quot;black&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;red&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;red&quot;, &quot;red&quot;, &quot;black&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, </div>
<div class="line">&quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;black&quot;, &quot;red&quot;, </div>
<div class="line">&quot;red&quot;, &quot;orange&quot;, &quot;black&quot;, &quot;orange&quot;, &quot;black&quot;, &quot;red&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;red&quot;, &quot;black&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;black&quot;, </div>
<div class="line">&quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, </div>
<div class="line">&quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;black&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;red&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;black&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;red&quot;, &quot;red&quot;, &quot;steelblue&quot;, &quot;orange&quot;, &quot;black&quot;, </div>
<div class="line">&quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;black&quot;, &quot;orange&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;red&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;black&quot;, </div>
<div class="line">&quot;red&quot;, &quot;red&quot;, &quot;black&quot;, &quot;black&quot;, &quot;black&quot;, &quot;red&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;black&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;black&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;black&quot;, &quot;black&quot;, </div>
<div class="line">&quot;red&quot;, &quot;orange&quot;, &quot;black&quot;, &quot;black&quot;, &quot;orange&quot;, &quot;black&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;black&quot;, &quot;red&quot;, &quot;black&quot;, &quot;black&quot;, &quot;red&quot;, </div>
<div class="line">&quot;black&quot;, &quot;black&quot;, &quot;black&quot;, &quot;black&quot;, &quot;black&quot;, &quot;black&quot;, </div>
<div class="line">&quot;black&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;red&quot;, &quot;black&quot;, </div>
<div class="line">&quot;black&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;red&quot;, &quot;black&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;red&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;black&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;black&quot;, &quot;red&quot;, </div>
<div class="line">&quot;black&quot;, &quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;black&quot;, &quot;red&quot;, </div>
<div class="line">&quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;black&quot;, &quot;black&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;black&quot;, &quot;black&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;red&quot;, &quot;black&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;black&quot;, </div>
<div class="line">&quot;black&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;black&quot;, </div>
<div class="line">&quot;red&quot;, &quot;black&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;red&quot;, </div>
<div class="line">&quot;black&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;black&quot;, &quot;red&quot;, </div>
<div class="line">&quot;red&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;black&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;red&quot;, &quot;black&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;black&quot;, &quot;red&quot;, </div>
<div class="line">&quot;steelblue&quot;, &quot;black&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;red&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, </div>
<div class="line">&quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;black&quot;, </div>
<div class="line">&quot;red&quot;, &quot;red&quot;, &quot;black&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;red&quot;, </div>
<div class="line">&quot;red&quot;, &quot;red&quot;, &quot;black&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;red&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;black&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, </div>
<div class="line">&quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, </div>
<div class="line">&quot;red&quot;, &quot;orange&quot;, &quot;black&quot;, &quot;red&quot;, &quot;black&quot;, &quot;black&quot;, </div>
<div class="line">&quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;black&quot;, &quot;orange&quot;, &quot;black&quot;, </div>
<div class="line">&quot;red&quot;, &quot;steelblue&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;red&quot;, </div>
<div class="line">&quot;black&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;black&quot;, &quot;black&quot;, </div>
<div class="line">&quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;red&quot;, &quot;black&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;red&quot;, </div>
<div class="line">&quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;red&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;red&quot;, </div>
<div class="line">&quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;black&quot;, &quot;red&quot;, &quot;black&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;orange&quot;, &quot;black&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;red&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;orange&quot;, &quot;black&quot;, &quot;black&quot;, &quot;orange&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;black&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, </div>
<div class="line">&quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;black&quot;, &quot;red&quot;, </div>
<div class="line">&quot;black&quot;, &quot;black&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;black&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, </div>
<div class="line">&quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;black&quot;, &quot;red&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;steelblue&quot;, </div>
<div class="line">&quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, </div>
<div class="line">&quot;red&quot;, &quot;orange&quot;, &quot;black&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;red&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;red&quot;, &quot;red&quot;, &quot;black&quot;, &quot;red&quot;, &quot;black&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;red&quot;, </div>
<div class="line">&quot;red&quot;, &quot;orange&quot;, &quot;black&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;black&quot;, </div>
<div class="line">&quot;red&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;black&quot;, &quot;red&quot;, &quot;red&quot;, </div>
<div class="line">&quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;black&quot;, </div>
<div class="line">&quot;black&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;steelblue&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;black&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, </div>
<div class="line">&quot;black&quot;, &quot;black&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;black&quot;, &quot;black&quot;, </div>
<div class="line">&quot;red&quot;, &quot;black&quot;, &quot;black&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, </div>
<div class="line">&quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, </div>
<div class="line">&quot;black&quot;, &quot;black&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;black&quot;, &quot;black&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;orange&quot;, &quot;black&quot;, &quot;red&quot;, &quot;black&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, </div>
<div class="line">&quot;red&quot;, &quot;black&quot;, &quot;black&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;black&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;red&quot;, &quot;black&quot;, &quot;black&quot;, &quot;orange&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;red&quot;, &quot;black&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;red&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;red&quot;, &quot;black&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;black&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;red&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;red&quot;, </div>
<div class="line">&quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;black&quot;, &quot;black&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;red&quot;, </div>
<div class="line">&quot;red&quot;, &quot;red&quot;, &quot;black&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;black&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;red&quot;, &quot;black&quot;, &quot;red&quot;, &quot;black&quot;, &quot;orange&quot;, &quot;orange&quot;, </div>
<div class="line">&quot;orange&quot;, &quot;black&quot;, &quot;black&quot;, &quot;black&quot;, &quot;red&quot;, &quot;red&quot;, </div>
<div class="line">&quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;red&quot;, </div>
<div class="line">&quot;black&quot;, &quot;orange&quot;, &quot;orange&quot;, &quot;black&quot;</div>
<div class="line">)</div>
<div class="line">p[&quot;color&quot;] &lt;- cols_saved</div>
</div><!-- fragment --><div class="fragment"><div class="line">unique_cols &lt;- unique(p[&#39;color&#39;])</div>
<div class="line">group1 &lt;- p[&#39;color&#39;] == unique_cols[1]</div>
<div class="line"># Number in group 1 (e.g. as you might have -- here from saved colours)</div>
<div class="line">sum(group1)</div>
<div class="line"># Data on first few quakes in group 1.</div>
<div class="line">head(quakes[group1,])</div>
</div><!-- fragment --><p>Alternatively, a function could be written to save the groups as a list of logical vectors (one for each group):</p>
<div class="fragment"><div class="line">getGroups &lt;- function(loonplot){</div>
<div class="line">    # make sure it is an &quot;l_plot&quot;</div>
<div class="line">    if (!is(loonplot, &quot;l_plot&quot;)) stop(&quot;loonplot must be an l_plot&quot;)</div>
<div class="line">    </div>
<div class="line">    # use color to identify groups</div>
<div class="line">    unique_cols &lt;- unique(loonplot[&#39;color&#39;])</div>
<div class="line">    lapply(unique_cols,</div>
<div class="line">           FUN = function(col){loonplot[&#39;color&#39;] == col}</div>
<div class="line">           )</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">myGroups &lt;- getGroups(p)    # returns groups identified by unique colour in p</div>
<div class="line">nGroups &lt;- length(myGroups) # number of groups</div>
<div class="line">group1 &lt;- myGroups[[1]]     # each group is an element of the list myGroups</div>
</div><!-- fragment --><p>Similarly, other point symbol characteristics (e.g. <code>size</code>, <code>glyph</code>) might be used to define groups. This is particularly handy when these are first determined interactively.</p>
<hr  />
<h3><a class="anchor" id="autotoc_md33"></a>
setting plot contents</h3>
<p>In addition to accessing the state values of a loon plot using <code>[]</code>, its values may also be set using <code>[]</code>. For example, try these:</p>
<div class="fragment"><div class="line">p[&quot;showGuides&quot;] &lt;- TRUE</div>
<div class="line"> </div>
<div class="line">p[&quot;size&quot;] &lt;- sample(1:30, size = length(p[&quot;x&quot;]), replace = TRUE)</div>
<div class="line"> </div>
<div class="line">for (i in 1:length(myGroups))  {</div>
<div class="line">    p[&quot;selected&quot;] &lt;- myGroups[[i]]</div>
<div class="line">    Sys.sleep(1)</div>
<div class="line">}</div>
<div class="line">p[&quot;selected&quot;] &lt;- FALSE</div>
<div class="line"> </div>
<div class="line"># something a little more involved for up to 6 groups</div>
<div class="line">myCols &lt;- c(&quot;firebrick&quot;, &quot;steelblue&quot;, &quot;purple&quot;, </div>
<div class="line">            &quot;orange&quot;, &quot;grey10&quot;, &quot;grey80&quot;)</div>
<div class="line">for (i in 1:length(myGroups)) {</div>
<div class="line">    p[&quot;color&quot;][myGroups[[i]]] &lt;- myCols[i]</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"># something crazy</div>
<div class="line">for (j in 1:10) {</div>
<div class="line">  p[&quot;xTemp&quot;] &lt;- p[&quot;x&quot;] + runif(length(p[&quot;x&quot;]), min = -0.5, max = 0.5)</div>
<div class="line">  Sys.sleep(0.1)</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"># putting locations and size back</div>
<div class="line">p[&quot;xTemp&quot;] &lt;- p[&quot;x&quot;]</div>
<div class="line">p[&quot;size&quot;] &lt;- 4</div>
</div><!-- fragment --><hr  />
<h2><a class="anchor" id="autotoc_md35"></a>
Adding layers</h2>
<p><code>loon</code> plots are actually a little richer still. The scatterplot is only one possible layer in a plot. It could have many more, each layer having different geometric objects.</p>
<hr  />
<h3><a class="anchor" id="autotoc_md37"></a>
Example: adding maps</h3>
<p>For example, we can add a map to the current loon plot <code>p</code>.</p>
<p>First get the relevant map:</p>
<div class="fragment"><div class="line">library(maps)</div>
<div class="line">NZFijiMap &lt;- map(&quot;world2&quot;, </div>
<div class="line">                 regions=c(&quot;New Zealand&quot;, &quot;Fiji&quot;),</div>
<div class="line">                 plot=FALSE)</div>
</div><!-- fragment --><p>It is added as a "layer" to the loon plot</p>
<div class="fragment"><div class="line">l_layer(p, NZFijiMap, </div>
<div class="line">        label = &quot;New Zealand and Fiji&quot;,</div>
<div class="line">        color = &quot;forestgreen&quot;,</div>
<div class="line">        index = &quot;end&quot;)</div>
</div><!-- fragment --><p>Try this out.</p>
<div class="fragment"><div class="line">knitr::include_graphics(path_concat(imageDirectory, &quot;quakesGuidesMapInspector.png&quot;))</div>
</div><!-- fragment --><div class="fragment"><div class="line">knitr::include_graphics(path_concat(imageDirectory, &quot;quakesGuidesMap.png&quot;))</div>
</div><!-- fragment --><p>As can be seen in the world view, much of the map is outside of the plot display (shown as the black-bordered rectangle in the world view).</p>
<p>Now play with the scaling buttons in the loon inspector.</p>
<hr  />
<h3><a class="anchor" id="autotoc_md39"></a>
Effect of scaling choices</h3>
<p>Adding the map allows us to see the effect of all three plot scaling choices available in the inspector.</p>
<p>The effect is best seen on the world view:</p>
<div class="fragment"><div class="line">knitr::include_graphics(path_concat(imageDirectory, &quot;quakesWorldViewScaling.png&quot;))</div>
</div><!-- fragment --><p>Note that the plot in the world view matches that of the actual plot. Also the aspect ratio changes with the scaling.</p>
<hr  />
<h3><a class="anchor" id="autotoc_md41"></a>
the "Layers" tab</h3>
<p>The map is added as a layer, which can be seen by selecting the "Layers" tab in the inspector:</p>
<div class="fragment"><div class="line">knitr::include_graphics(path_concat(imageDirectory, &quot;quakesLayersInspector.png&quot;))</div>
</div><!-- fragment --><p>This allows a lot of interaction with the layers - for example changing their display order, making some of them invisible, grouping layers, and so on.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md43"></a>
Syntax: loon's &lt;tt&gt;l_plot()&lt;/tt&gt; is like base graphics &lt;tt&gt;plot()&lt;/tt&gt;</h2>
<p><code>loon</code>'s <code>l_plot()</code> syntax <b>intentionally resembles</b> that of <code>plot()</code> from the base <code>graphics</code> package:</p>
<div class="fragment"><div class="line"># Base graphics</div>
<div class="line">plot(x = quakes$long, y = quakes$lat, </div>
<div class="line">     xlab = &quot;longitude&quot;, ylab = &quot;latitude&quot;,</div>
<div class="line">     main = &quot;Tonga trench earthquakes&quot;)</div>
<div class="line"> </div>
<div class="line"># loon graphics</div>
<div class="line">l_plot(x = quakes$long, y = quakes$lat, </div>
<div class="line">       xlabel = &quot;longitude&quot;, ylabel = &quot;latitude&quot;,</div>
<div class="line">       title = &quot;Tonga trench earthquakes&quot;)</div>
</div><!-- fragment --><p>The arguments to <code>l_plot()</code> provide initial values to each named state. Note that the argument names in <code>l_plot</code> are slightly different.</p>
<p>In result, however, loon plots are quite different</p>
<ul>
<li>displays <b>look different</b></li>
<li><code>l_plot()</code> <b>returns a data structure</b>; <code>plot()</code> does not<ul>
<li>a rich data structure with many states</li>
<li>can be transformed to a grob</li>
</ul>
</li>
<li>the <code>loon</code> plot is <b>highly interactive</b><ul>
<li>either from the inspector</li>
<li>or programmatically</li>
</ul>
</li>
</ul>
<p>In loon, the function <code>plot.loon()</code> is a <b>method</b> of the base <code>plot()</code> generic function that turns the loon plot (as the first argument of <code>plot.loon()</code>) into a grid object and plots it on the current <code>R</code> graphics device.</p>
<hr  />
<h1><a class="anchor" id="autotoc_md45"></a>
&lt;tt&gt;l_hist()&lt;/tt&gt; the &lt;tt&gt;loon&lt;/tt&gt; histogram</h1>
<p>As seen earlier, the <code>quakes</code> data has some other variates in addition to the latitude and longitude of the quakes.</p>
<p>Before starting, make sure that you have the four groups coloured in the loon plot <code>p</code> as described earlier. If you don't, then colour them again now.</p>
<p>Let's consider a histogram of the <code>depth</code> of each earthquake.</p>
<div class="fragment"><div class="line">h &lt;- l_hist(quakes$depth, </div>
<div class="line">            xlabel = &quot;depth&quot;, </div>
<div class="line">            title = &quot;Tonga trench earthquakes&quot;)</div>
</div><!-- fragment --><p>Note that the inspector has changed. There is a different inspector for each type of base loon plot.</p>
<p><b>Exercise</b>:</p>
<ul>
<li>in the plot section of the histogram inspector, select <code>yshows: density</code></li>
<li>on the histogram, see how individual bars can be selected</li>
<li>what happens when you modify the colour?</li>
<li>on the histogram, what is the (interactive) function of the small grey object?<ul>
<li>how can you make it go away?</li>
</ul>
</li>
<li>on the histogram inspector, turn on stacked colours</li>
<li>select colours on the histogram</li>
</ul>
<hr  />
<h1><a class="anchor" id="autotoc_md47"></a>
Linking</h1>
<p>Now that we have both a scatterplot and a histogram, we can explore one of the most important features of an interactive data visualization system like loon.</p>
<h2><a class="anchor" id="autotoc_md48"></a>
&lt;tt&gt;linkingGroup&lt;/tt&gt;</h2>
<p>The principal feature of loon plots which effect the linking of displays is the setting of a common <code>linkingGroup</code>.</p>
<ul>
<li>On the histogram inspector, where it says linking group, select the text "none" and replace it with "quakes"</li>
<li>On the scatterplot inspector, if you do the same you will now be prompted to either "push" or "pull". Select "push".</li>
<li><p class="startli"><b>NOTE</b>: Programmatically, we might have tried to set the linking group directly on the plot as</p>
<p class="startli">```{r set linkingGroup mistake, eval = FALSE, warning=FALSE, message=FALSE, tidy = FALSE} h["linkingGroup"] &lt;- "quakes" p["linkingGroup"] &lt;- "quakes" ```</p>
<p class="startli">but <b>this would have resulted in an error</b>. The problem is that the synchronization must be set at the same time to determine where the linked states are to be drawn from. To effect this, the loon command <code>l_confiure()</code> must be used whenever <b>two or more states are to be set simultaneously</b>. The correct programmatic setting of the "linkingGroup" is ```{r fix colors again, eval = TRUE, fig.align="center", fig.width = 6, fig.height = 5, out.width = "60%", warning=FALSE, message=FALSE, tidy = FALSE} l_configure(h, linkingGroup = "quakes", sync = "push") l_configure(p, linkingGroup = "quakes", sync = "pull") ```</p>
<p class="startli">This causes <code>h</code> to push its linked states to the "quakes" group and <code>p</code> to pull them from the "quakes" group. (In this example, "pull" could have been used in both cases and is generally recommended.)</p>
</li>
<li>brush the scatterplot and observe the effects in the histogram</li>
<li>brush the histogram and observe the effects in the scatterplot<ul>
<li>shape the brush so that it is tall and thin</li>
<li>brush from left to right and right to left (i.e. from shallow to deeper earthquake depths)</li>
</ul>
</li>
<li><p class="startli">could also set colours programmatically on the histogram. Here we colour the histogram bars so that those earthquakes that are deepest are darkest.</p>
<p class="startli">```{r histogram blues, fig.align="center", fig.width = 7, fig.height = 5, out.width = "60%", warning=FALSE, message=FALSE, tidy = FALSE} blues5 &lt;- blues9[c(2,4,6,8,9)] # select 5 from light blue to dark h["color"] &lt;- blues5[cut(quakes$depth, breaks=5)] # assign colours by depth p["glyph"] &lt;- "ccircle" p["showGuides"] &lt;- TRUE </p>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md49"></a>
plot(p) # will print the plot</h1>
<p>```</p>
<hr  />
<h2><a class="anchor" id="autotoc_md51"></a>
linking many plots</h2>
<p>Arbitrarily many plots may be created and linked in loon.</p>
<p>Consider, for example, adding two more histograms to the same <code>linkingGroup</code>. Note that the linking is done at creation and that the synchronization is by default a "pull".</p>
<div class="fragment"><div class="line">h_mag &lt;- l_hist(x = quakes$mag, </div>
<div class="line">                linkingGroup = &quot;quakes&quot;, </div>
<div class="line">                showStackedColors = TRUE,</div>
<div class="line">                yshows = &quot;density&quot;,</div>
<div class="line">                xlabel = &quot;magnitude&quot;)</div>
<div class="line"> </div>
<div class="line">h_stations &lt;- l_hist(x = quakes$stations, </div>
<div class="line">                     linkingGroup = &quot;quakes&quot;, </div>
<div class="line">                     showStackedColors = TRUE,</div>
<div class="line">                     yshows = &quot;density&quot;,</div>
<div class="line">                     xlabel = &quot;Number of stations reporting&quot;)</div>
</div><!-- fragment --><p>Brush to show the relationship between magnitude of the earthquake and the number of stations reporting.</p>
<p>Alternatively, we could look at a linked scatterplot of these two variates and explore their relationship conditional on <code>depth</code></p>
<div class="fragment"><div class="line">p_mag_stations &lt;- l_plot(x = quakes$mag, </div>
<div class="line">                         y = quakes$stations, </div>
<div class="line">                         showGuides = TRUE,</div>
<div class="line">                         glyph = &quot;ccircle&quot;,</div>
<div class="line">                         linkingGroup = &quot;quakes&quot;, </div>
<div class="line">                         xlabel = &quot;Magnitude&quot;, </div>
<div class="line">                         ylabel = &quot;Number of stations reporting&quot;)</div>
</div><!-- fragment --><p>Brushing any one of these plots will cause the other plots to highlight in response.</p>
<p>Note that selection effectively shows the relations in one plot <b>conditional</b> upon the values actively being selected (e.g. brushed) in another.</p>
<h2><a class="anchor" id="autotoc_md52"></a>
&lt;tt&gt;linkingKey&lt;/tt&gt;</h2>
<p>Observations in a <code>loon</code> plot are uniquely identified (for the purpose of linking) by their <code>linkingKey</code>. Pardon the pun but this is the key to linking in <code>loon</code>.</p>
<p>For the most part, the default linking is all that you ever need do. <br  />
 Trouble may arise, however, if you want to link two different plots that were created with different data frames whose rows so not match row for row. For example, one <code>data.frame</code> might be a re-ordering of the rows of the other. Or, it might be a subset of the rows of the other.</p>
<p>In either case, to have linking work properly the <code>linkingKey</code> of the plots associated with the two data frames need to be managed.</p>
<p>For example,</p>
<div class="fragment"><div class="line">new_order &lt;- sample(1:nrow(quakes), nrow(quakes), replace = FALSE)</div>
<div class="line">some_quakes &lt;-  sample(1:nrow(quakes), 100, replace = FALSE)</div>
<div class="line">quakes_linkingKey &lt;- p[&quot;linkingKey&quot;]</div>
<div class="line">p_new &lt;- with(quakes[new_order,],</div>
<div class="line">              l_plot(long, lat, title = &quot;quakes reordered&quot;,</div>
<div class="line">                     linkingGroup = &quot;quakes&quot;,</div>
<div class="line">                     linkingKey = quakes_linkingKey[new_order] ))</div>
<div class="line">p_subset &lt;- with(quakes[some_quakes,],</div>
<div class="line">              l_plot(long, lat, title = &quot;quakes reordered&quot;,</div>
<div class="line">                     linkingGroup = &quot;quakes&quot;,</div>
<div class="line">                     linkingKey = quakes_linkingKey[some_quakes]))</div>
</div><!-- fragment --><p>The new plots <code>p_new</code> and <code>p_subset</code> will link correctly with all the rest.</p>
<p>Rather than the default values, the <code>linkingKey</code> can be any vector of unique strings used in any newly created plot as above. Of course, not using the default linking keys from <code>loon</code> may require a little more care in management from the user.</p>
<hr  />
<h1><a class="anchor" id="autotoc_md54"></a>
Three dimensional plots - &lt;tt&gt;l_plot3D&lt;/tt&gt;</h1>
<p>Given that the <code>quakes</code> data has three spatial dimensions (<code>long</code>, <code>lat</code>, and <code>depth</code>), it would be natural to view this in a three dimensional scatterplot.</p>
<div class="fragment"><div class="line"># First, scale the data</div>
<div class="line">scaled_quakes &lt;- l_scale3D(quakes)</div>
<div class="line"> </div>
<div class="line">p_mag_stations &lt;- l_plot3D(x = scaled_quakes$long,  </div>
<div class="line">                           y = scaled_quakes$lat, </div>
<div class="line">                           z = scaled_quakes$depth, </div>
<div class="line">                           showGuides = TRUE,</div>
<div class="line">                           linkingGroup = &quot;quakes&quot;, </div>
<div class="line">                           title = &quot;Three dimensional plot of quakes&quot;)</div>
</div><!-- fragment --><p>Select the plot, type <code>r</code> to turn on the <code>rotation mode</code>. Press the down arrow on the keyboard until the darkest points (deepest quakes) are at the bottom of the display. Press <code>r</code> again to turn off the rotation mode.</p>
<p>Selecting the plot, the key <code>r</code> toggles the rotation mode; arrow keys rotate the plot vertically and horizontally. In <code>rotation mode</code> the plot may also be rotated free hand using the mouse. When <code>rotation mode</code> is toggled off (with the key <code>r</code>), the plot can again be brushed et cetera as with any <code>l_plot</code>. See <code>help("l_plot3D")</code> for more details.</p>
<p><b>NOTE</b> Many methods exist for visualizing higher dimensional data in <code>loon</code>. For e.g. see <code>help("l_navgraph")</code>, <code>help("l_pairs")</code>, or <code>help("l_serialaxes")</code>. See also the online manual <code>l_web()</code>.</p>
<hr  />
<h1><a class="anchor" id="autotoc_md56"></a>
Extras</h1>
<p>Miscellaneous other topics on and sources of working and programming with <code>loon</code>.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md58"></a>
More examples</h2>
<p>Being able to get and set the plot contents means that it is possible to capture different plot states as <code>grobs</code>. There are a variety of ways to see how you might put <code>loon</code> to use.</p>
<p>There are of course many smaller examples available through the <code>loon</code>'s <code>R</code> documentation available via </p><div class="fragment"><div class="line">help(package = &quot;loon&quot;)</div>
</div><!-- fragment --><p> and more complex examples and more general discussion via <code>loon</code>'s online help </p><div class="fragment"><div class="line">l_help()</div>
<div class="line"># or more simply via the online manual</div>
<div class="line">l_web()</div>
</div><!-- fragment --><hr  />
<h3><a class="anchor" id="autotoc_md60"></a>
Other vignettes</h3>
<p>Other vignettes have been developed to cover a range of topics. These currently include:</p>
<ul>
<li>An example exploratory analysis: "Visible minorities in Canadian cities" available via ```{r, eval=FALSE} vignette("minorities", package = "loon") ``<code> This illustrates a variety of</code>loon` features including map layers, parallel coordinate axes, and radial axes glyphs in the context of an exploratory analysis of the distribution of visible minorities in 33 Canadian cities.</li>
<li>New interactive graphics in <code>loon</code> in a teaching example: "Smoothers and Bone Mineral Density" available via ```{r, eval=FALSE} vignette("teaching-example-smoothing", package = "loon") ``<code> This illustrates how to create new interactions in</code>loon<code>through more general bindings. This is done by developing a teaching tool for explaining how smoothing works. The example data set is</code>bone<code>from the</code>ElemStatLearn` package.</li>
<li>Some suggestions on integrating <code>loon</code> plots into an Rmarkdown document: "Loon in RMarkdown" via ```{r, eval=FALSE} vignette("Rmarkdown", package = "loon") ```</li>
</ul>
<hr  />
<h3><a class="anchor" id="autotoc_md62"></a>
loon demos</h3>
<p>There are numerous demos in loon whose source code might be examined for more examples of using <code>loon</code>. To see them all</p>
<div class="fragment"><div class="line">demo(package = &quot;loon&quot;)  # list all demos</div>
</div><!-- fragment --><p>The range is quite broad. For example,</p>
<div class="fragment"><div class="line">### teaching demos</div>
<div class="line">demo(&quot;l_regression&quot;, </div>
<div class="line">     package = &quot;loon&quot;)  # lots using the Old Faithful geyser</div>
<div class="line">demo(&quot;l_regression_influential&quot;, </div>
<div class="line">     package = &quot;loon&quot;)  # move and recolor points to change the regression fit</div>
<div class="line"> </div>
<div class="line">### gapminder</div>
<div class="line">demo(&quot;l_us_and_them&quot;, </div>
<div class="line">     package = &quot;loon&quot;)  #  basic demo</div>
<div class="line">demo(&quot;l_us_and_them_slider&quot;, </div>
<div class="line">     package = &quot;loon&quot;)  # year selected on a slider</div>
<div class="line">demo(&quot;l_us_and_them_choropleth&quot;, </div>
<div class="line">     package = &quot;loon&quot;)  # world map and linked with a scatterplot</div>
<div class="line"> </div>
<div class="line">### the spatial package sp                       </div>
<div class="line">demo(&quot;l_polygons_sp&quot;, </div>
<div class="line">     package = &quot;loon&quot;)  # layer polygons with class sp </div>
<div class="line"> </div>
<div class="line">### layering and custom layouts </div>
<div class="line">demo(&quot;l_layers&quot;)  # demonstrate layer types   </div>
<div class="line">demo(&quot;l_layout&quot;)  # custom layout widgets      </div>
<div class="line">demo(&quot;l_widgets&quot;) # inspector and plot in one window</div>
<div class="line"> </div>
<div class="line">### novel brushing and linking </div>
<div class="line">demo(&quot;l_knn&quot;)     # brushing by k nearest points in some subspace</div>
<div class="line">demo(&quot;l_us_and_them_choropleth&quot;)  # many to one linking </div>
<div class="line"> </div>
<div class="line">### high dimensional data and dimensionality reduction</div>
<div class="line">demo(&quot;l_ng_images_frey_LLE&quot;) # navigation graphs, image data, LLE</div>
<div class="line">demo(&quot;l_ng_dimred&quot;)          # comparing dimension reduction methods</div>
</div><!-- fragment --><p>The code that appears in the console after the demo can be examined and reused to create your own loony <code>loon</code> code.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md64"></a>
Extensions to loon via other packages</h2>
<h3><a class="anchor" id="autotoc_md65"></a>
&lt;tt&gt;zenplots&lt;/tt&gt;</h3>
<p>This package is available on CRAN. </p><div class="fragment"><div class="line">install.packages(&quot;zenplots&quot;)</div>
<div class="line">vignette(&quot;intro&quot;, package = &quot;zenplots&quot;)</div>
</div><!-- fragment --><p>Provides a means for compact layout of alternating 1d (e.g. histograms) and 2d (e.g. scatterplots) plots. In will layout base <code>graphics</code> plots, <code>grid</code> graphics plots, and <code>loon</code> plots.</p>
<p>It is similar to <code>pairs</code> plots but allows many many more plots to be displayed. From the introductory vignette:</p>
<blockquote class="doxtable">
<p>"A zenplot can show the same information as a pairs plot but with two important display differences.</p>
<p>&gt;First, the matrix organization of the pairs layout is replaced by the “zig-zag” layout of zenplot. Second, the number of plots produced is about half that of a pairs plot allowing each plot in a zenplot to be given more visual space." </p>
</blockquote>
<h3><a class="anchor" id="autotoc_md66"></a>
Specialty &lt;tt&gt;loon&lt;/tt&gt; extensions -  &lt;tt&gt;loon.&lt;specialty&gt;&lt;/tt&gt; packages</h3>
<p>There are/will be other packages available which build on <code>loon</code>. Those developed by us are typically prefixed with <code>loon</code> (e.g. <code>loon.ggplot</code>)</p>
<p>These will typically be on CRAN when ready, but development versions are accessible from our various <code>github</code> repositories. For example,</p>
<ul>
<li><a href="https://github.com/rwoldford">https://github.com/rwoldford</a></li>
<li><a href="https://github.com/waddella">https://github.com/waddella</a></li>
</ul>
<p>There you can see what is coming up.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md68"></a>
More on grid graphics and loon</h2>
<p>Graphics in the <code>grid</code> package are built up from graphical objects or <code>grobs</code>.</p>
<p>In <code>loon</code>, the functions <code>grid.loon()</code> and <code>loonGrob()</code> construct <code>grobs</code> from loon plots which can then be used as any other <code>grob</code> in <code>grid</code></p>
<p>For example, when transformed to <code>grid</code>, the loon plot <code>p</code> structure becomes a <code>gTree</code> in <code>grid</code>.</p>
<div class="fragment"><div class="line">gp &lt;- loonGrob(p)</div>
<div class="line">gp</div>
</div><!-- fragment --><p>This simply produces the grid data structure corresponding to the current state of the loon plot <code>p</code>, as can be seen from listing its contents:</p>
<div class="fragment"><div class="line">library(grid)</div>
<div class="line">grid.ls(gp)  # lists the contents of the grob</div>
</div><!-- fragment --><p>The grob <code>gp</code> could now be used with all the functionality of the <code>grid</code> package. <br  />
</p>
<p>Note that all of the elements of a loon plot appear in the grob, either explicitly or, if they were not drawn in the loon plot, as an empty <code>grob</code> containing the relevant arguments to drawing them.</p>
<p>Another function in loon to help that is the <code>grid.loon()</code> function </p><div class="fragment"><div class="line">library(grid)</div>
<div class="line">grid.newpage()</div>
<div class="line">grid.loon(p)</div>
</div><!-- fragment --><p>will display <code>p</code> as a <code>grid</code> graphic ... and all that entails. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
