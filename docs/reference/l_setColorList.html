<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Use custom colors for mapping nominal values to distinct colors — l_setColorList • loon</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Use custom colors for mapping nominal values to distinct colors — l_setColorList" />
<meta property="og:description" content="Modify loon's color mapping list to a set of custom colors." />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">loon</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.3.7</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/introduction.html">Intro</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/introduction.html">Introduction</a>
    </li>
    <li>
      <a href="../articles/savingLoonPlots.html">Saving loon plots</a>
    </li>
    <li>
      <a href="../articles/logicalQueries.html">Logical queries in interactive graphics</a>
    </li>
    <li>
      <a href="../articles/minorities.html">Analysis example</a>
    </li>
    <li>
      <a href="../articles/teaching-example-smoothing.html">Teaching example</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Videos
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="https://youtu.be/JFJcg855HcQ">the (not so) humble (interactive) histogram</a>
    </li>
    <li>
      <a href="https://youtu.be/mMJllGOuDLY">3D interactive scatterplots</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/great-northern-diver/loon">
    <span class="fas fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Use custom colors for mapping nominal values to distinct colors</h1>
    <small class="dont-index">Source: <a href='https://github.com/great-northern-diver/loon/blob/master/R/l_ColorList.R'><code>R/l_ColorList.R</code></a></small>
    <div class="hidden name"><code>l_setColorList.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Modify loon's color mapping list to a set of custom colors.</p>
    </div>

    <pre class="usage"><span class='fu'>l_setColorList</span><span class='op'>(</span><span class='va'>colors</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>colors</th>
      <td><p>vector with valid color names or hex-encoded colors</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>There are two commonly used mapping schemes of data values to
  colors: one scheme maps numeric values to colors on a color gradient and
  the other maps nominal data to colors that can be well differentiated
  visually (e.g. to highlight the different groups). Presently, loon always
  uses the latter approach for its color mappings. You can use specialized
  color pallettes to map continuous values to color gradients as shown in the
  examples below.</p>
<p>When assigning values to a display state of type color then loon maps those
  values using the following rules</p>
<p></p><ol>
<li><p>if all values already represent valid Tk colors (see
  <code><a href='tkcolors.html'>tkcolors</a></code>) then those colors are taken.</p></li>
<li><p>if the number of distinct values are less than number of values in
  loon's color mapping list then they get mapped according to the color list,
  see <code>l_setColorList</code> and <code><a href='l_getColorList.html'>l_getColorList</a></code>.</p></li>
<li><p>if there are more distinct values as there are colors in loon's color
  mapping list then loon's own color mapping algorithm is used. See
  <code><a href='loon_palette.html'>loon_palette</a></code> and for more details about the algorithm below
  in this documentation.</p></li>
</ol>

<p>Loon's default color list is composed of the first 11 colors from the
  <em>hcl</em> color wheel (displayed below in the html version of the
  documentation). The letters in hcl stand for hue, chroma and luminance, and
  the hcl wheel is useful for finding "balanced colors" with the same chroma
  (radius) and luminance but with different hues (angles), see Ross Ihaka
  (2003) "Colour for presentation graphics", Proceedings of DSC, p. 2
  (<a href='https://www.stat.auckland.ac.nz/~ihaka/courses/787/color.pdf'>https://www.stat.auckland.ac.nz/~ihaka/courses/787/color.pdf</a>).</p>
<p>The colors in loon's internal color list are also the default ones listed
  as the "modify color actions" in the analysis inspectors. To query and
  modify loon's color list use <code><a href='l_getColorList.html'>l_getColorList</a></code> and
  <code>l_setColorList</code>.</p>
<p>In the case where there are more unique data values than colors in loon's
  color list then the colors for the mapping are taken from different
  locations distributed on the hcl color wheel (see above).</p>
<p>One of the advantages of using the hcl color wheel is that one can obtain
  any number of "balanced colors" with distinct hues. This is useful in
  encoding data with colors for a large number of groups; however, it should
  be noted that the more groups we have the closer the colors sampled from
  the wheel become and, therefore, the more similar in appearance.</p>
<p>A common way to sample distinct "balanced colors" on the hcl wheel is to
  choose evenly spaced hues distributed on the wheel (i.e. angles on the
  wheel). However, this approach leads to color sets where most colors change
  when the sample size (i.e. the number of sampled colors from the wheel)
  increases by one. For loon, it is desirable to have the first <code>m</code>
  colors of a color sample of size <code>m+1</code> to be the same as the colors in
  a color sample of size <code>m</code>, for all positive natural numbers <code>m</code>.
  Hence, we prefer to have a sequence of colors. This way, the colors on the
  inspectors stay relevant (i.e. they match with the colors of the data
  points) when creating plots that encode with color a data variable with
  different number of groups.</p>
<p>We implemented such a color sampling scheme (or color sequence generator)
  that also makes sure that neighboring colors in the sequence have different
  hues. In you can access this color sequence generator with
  <code><a href='loon_palette.html'>loon_palette</a></code>. The color wheels below show the color
  generating sequence twice, once for 16 colors and once for 32 colors.</p>
<p><img src='figures/loon_color_wheel.png' alt="Loon's color mapping" /></p>
<p>Note, for the inspector: If there are more unique colors in the data points
  than there are on the inspectors then it is possible to add the next five
  colors in the sequence of the colors with the <em>+5</em> button.
  Alternatively, the <em>+</em> button on the modify color part of the analysis
  inspectors allows the user to pick any additional color with a color menu.
  Also, if you change the color mapping list and close and re-open the loon
  inspector these new colors show up in the modify color list.</p>
<p>When other color mappings of data values are required (e.g. numerical data
  to a color gradient) then the functions in the <code><a href='https://scales.r-lib.org/reference/scales-package.html'>scales</a></code>
  R package provide various mappings including mappings for qualitative,
  diverging and sequential values.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code>l_setColorList</code>, <code><a href='l_getColorList.html'>l_getColorList</a></code>,
  <code><a href='l_setColorList_ColorBrewer.html'>l_setColorList_ColorBrewer</a></code>, <code><a href='l_setColorList_hcl.html'>l_setColorList_hcl</a></code>,
  <code><a href='l_setColorList_baseR.html'>l_setColorList_baseR</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/interactive.html'>interactive</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span><span class='op'>{</span>


<span class='fu'><a href='l_plot.html'>l_plot</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span>, color<span class='op'>=</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>)</span> <span class='co'># loon's default mapping</span>

<span class='va'>cols</span> <span class='op'>&lt;-</span> <span class='fu'><a href='l_getColorList.html'>l_getColorList</a></span><span class='op'>(</span><span class='op'>)</span>
<span class='fu'>l_setColorList</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"red"</span>, <span class='st'>"blue"</span>, <span class='st'>"green"</span>, <span class='st'>"orange"</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'>## close and reopen inspector</span>

<span class='fu'><a href='l_plot.html'>l_plot</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span>, color<span class='op'>=</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>)</span>   <span class='co'># use the new color mapping</span>
<span class='fu'><a href='l_plot.html'>l_plot</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>10</span>, color<span class='op'>=</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>10</span><span class='op'>)</span> <span class='co'># use loons default color mapping as color list is too small</span>

<span class='co'># reset to default</span>
<span class='fu'>l_setColorList</span><span class='op'>(</span><span class='va'>cols</span><span class='op'>)</span>
<span class='op'>}</span>

<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='co'># you can also perform the color mapping yourself, for example with</span>
<span class='co'># the col_numeric function provided in the scales package</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/ns-load.html'>requireNamespace</a></span><span class='op'>(</span><span class='st'>"scales"</span>, quietly <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='va'>p_custom</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/with.html'>with</a></span><span class='op'>(</span><span class='va'>olive</span>, <span class='fu'><a href='l_plot.html'>l_plot</a></span><span class='op'>(</span><span class='va'>stearic</span> <span class='op'>~</span> <span class='va'>oleic</span>,
       color <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='fu'><a href='https://scales.r-lib.org/reference/col_numeric.html'>col_numeric</a></span><span class='op'>(</span><span class='st'>"Greens"</span>, domain <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span><span class='op'>(</span><span class='va'>palmitic</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
  <span class='op'>}</span>
<span class='op'>}</span>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Adrian Waddell, R. Wayne Oldford.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


