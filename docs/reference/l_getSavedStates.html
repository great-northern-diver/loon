<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Retrieve saved plot states from the named file. — l_getSavedStates • loon</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Retrieve saved plot states from the named file. — l_getSavedStates"><meta property="og:description" content='l_getSavedStates reads a file created by l_saveStates() containing
the saved info states of a loon plot returning a loon object of class "l_savedStates".
This is helpful, for example, when using RMarkdown or some other notebooking
facility to recreate an earlier saved loon plot so as to present it
in the document.
Note that if the plot saved was an "l_compound" then l_getSavedStates
will return a list of the plots with each list item being the saved states of the
corresponding plots.'><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">loon</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.3.9</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/introduction.html">Intro</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/introduction.html">Introduction</a>
    </li>
    <li>
      <a href="../articles/logicalQueries.html">Logical queries in interactive graphics</a>
    </li>
    <li>
      <a href="../articles/savingLoonPlots.html">Saving loon plots</a>
    </li>
    <li>
      <a href="../articles/loonPlotsAndGridGraphics.html">Loon plots and grid graphics</a>
    </li>
    <li>
      <a href="../articles/teaching-example-smoothing.html">Teaching example</a>
    </li>
  </ul></li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Videos
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="https://youtu.be/JFJcg855HcQ" class="external-link">the (not so) humble (interactive) histogram</a>
    </li>
    <li>
      <a href="https://youtu.be/mMJllGOuDLY" class="external-link">3D interactive scatterplots</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/great-northern-diver/loon" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Retrieve saved plot states from the named file.</h1>
    <small class="dont-index">Source: <a href="https://github.com/great-northern-diver/loon/blob/HEAD/R/l_getSavedStates.R" class="external-link"><code>R/l_getSavedStates.R</code></a></small>
    <div class="hidden name"><code>l_getSavedStates.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>l_getSavedStates</code> reads a file created by <code><a href="l_saveStates.html">l_saveStates()</a></code> containing
the saved info states of a loon plot returning a loon object of class <code>"l_savedStates"</code>.
This is helpful, for example, when using RMarkdown or some other notebooking
facility to recreate an earlier saved loon plot so as to present it
in the document.</p>
<p>Note that if the plot saved was an <code>"l_compound"</code> then <code>l_getSavedStates</code>
will return a list of the plots with each list item being the saved states of the
corresponding plots.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">l_getSavedStates</span><span class="op">(</span>file <span class="op">=</span> <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"missing name of file"</span><span class="op">)</span>, <span class="va">...</span><span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>file</dt>
<dd><p>a connection or the name of the file where the <code>"l_savedStates"</code> <span style="R">R</span> object
is to be read from (as in <code>readRDS(</code>).</p></dd>
<dt>...</dt>
<dd><p>further arguments passed to <code><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS()</a></code>.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>a list of class `l_savedStates` containing the states and their values.
Also has an attribute `l_plot_class` which contains the class vector of the
plot `p`</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code>l_getSavedStates</code>  <code><a href="l_copyStates.html">l_copyStates</a></code> <code><a href="l_info_states.html">l_info_states</a></code> <code><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS</a></code> <code><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">saveRDS</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"><span class="co"># Suppose you have some plot that you created like</span></span>
<span class="r-in"><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="l_plot.html">l_plot</a></span><span class="op">(</span><span class="va">iris</span>, showGuides <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"><span class="co"># and coloured groups by hand (using the mouse and inspector)</span></span>
<span class="r-in"><span class="co"># so that you ended up with these colours:</span></span>
<span class="r-in"><span class="va">p</span><span class="op">[</span><span class="st">"color"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span> <span class="st">"lightgreen"</span>, <span class="st">"firebrick"</span>,<span class="st">"skyblue"</span><span class="op">)</span>,</span>
<span class="r-in">                  each <span class="op">=</span> <span class="fl">50</span><span class="op">)</span></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"><span class="co"># Having determined the colours you could save them (and other states)</span></span>
<span class="r-in"><span class="co"># in a file of your choice, here some tempfile:</span></span>
<span class="r-in"><span class="va">myFileName</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="st">"myPlot"</span>, fileext <span class="op">=</span> <span class="st">".rds"</span><span class="op">)</span></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"><span class="co"># Save the named states of p</span></span>
<span class="r-in"><span class="fu"><a href="l_saveStates.html">l_saveStates</a></span><span class="op">(</span><span class="va">p</span>,</span>
<span class="r-in">             states <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"color"</span>, <span class="st">"active"</span>, <span class="st">"selected"</span><span class="op">)</span>,</span>
<span class="r-in">             file <span class="op">=</span> <span class="va">myFileName</span><span class="op">)</span></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"><span class="co"># These can later be retrieved and used on a new plot</span></span>
<span class="r-in"><span class="co"># (say in RMarkdown) to set the new plot's values to those</span></span>
<span class="r-in"><span class="co"># previously determined interactively.</span></span>
<span class="r-in"><span class="va">p_new</span> <span class="op">&lt;-</span> <span class="fu"><a href="l_plot.html">l_plot</a></span><span class="op">(</span><span class="va">iris</span>, showGuides <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"><span class="va">p_saved_info</span> <span class="op">&lt;-</span> <span class="fu">l_getSavedStates</span><span class="op">(</span><span class="va">myFileName</span><span class="op">)</span></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"><span class="co"># We can tell what kind of plot was saved</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">p_saved_info</span>, <span class="st">"l_plot_class"</span><span class="op">)</span></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"><span class="co"># The result is a list of class "l_savedStates" which</span></span>
<span class="r-in"><span class="co"># contains the names of the</span></span>
<span class="r-in"><span class="va">p_new</span><span class="op">[</span><span class="st">"color"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">p_saved_info</span><span class="op">$</span><span class="va">color</span></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"><span class="co"># The result is that p_new looks like p did</span></span>
<span class="r-in"><span class="co"># (after your interactive exploration)</span></span>
<span class="r-in"><span class="co"># and can now be plotted as part of the document</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">p_new</span><span class="op">)</span></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"><span class="co"># For compound plots, the info_states are saved for each plot</span></span>
<span class="r-in"><span class="va">pp</span> <span class="op">&lt;-</span> <span class="fu"><a href="l_pairs.html">l_pairs</a></span><span class="op">(</span><span class="va">iris</span><span class="op">)</span></span>
<span class="r-in"><span class="va">myPairsFile</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="st">"myPairsPlot"</span>, fileext <span class="op">=</span> <span class="st">".rds"</span><span class="op">)</span></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"><span class="co"># Save the names states of pp</span></span>
<span class="r-in"><span class="fu"><a href="l_saveStates.html">l_saveStates</a></span><span class="op">(</span><span class="va">pp</span>,</span>
<span class="r-in">             states <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"color"</span>, <span class="st">"active"</span>, <span class="st">"selected"</span><span class="op">)</span>,</span>
<span class="r-in">             file <span class="op">=</span> <span class="va">myPairsFile</span><span class="op">)</span></span>
<span class="r-in"><span class="va">pairs_info</span> <span class="op">&lt;-</span>  <span class="fu">l_getSavedStates</span><span class="op">(</span><span class="va">myPairsFile</span><span class="op">)</span></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"><span class="co"># For compound plots, the info states for all constitutent</span></span>
<span class="r-in"><span class="co"># plots are saved.  The result is a list of class "l_savedStates"</span></span>
<span class="r-in"><span class="co"># whose elements are the named plots as "l_savedStates"</span></span>
<span class="r-in"><span class="co"># themselves.</span></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"><span class="co"># The names of the plots which were saved</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">pairs_info</span><span class="op">)</span></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"><span class="co"># And the names of the info states whose values were saved for</span></span>
<span class="r-in"><span class="co"># the first plot</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">pairs_info</span><span class="op">$</span><span class="va">x2y1</span><span class="op">)</span></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"><span class="co"># While it is generally recommended to access (or assign) saved</span></span>
<span class="r-in"><span class="co"># state values using the $ sign accessor, paying attention to the</span></span>
<span class="r-in"><span class="co"># nested list structure of an "l_savedStates" object (especially for</span></span>
<span class="r-in"><span class="co"># l_compound plots), R's square bracket notation [] has also been</span></span>
<span class="r-in"><span class="co"># specialized to allow a syntactically simpler (but less precise)</span></span>
<span class="r-in"><span class="co"># access to the contents of an l_savedStates object.</span></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"><span class="co"># For example,</span></span>
<span class="r-in"><span class="va">p_saved_info</span><span class="op">[</span><span class="st">"color"</span><span class="op">]</span></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"><span class="co"># returns the saved "color" as a vector of colours.</span></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"><span class="co"># In contrast,</span></span>
<span class="r-in"><span class="va">pairs_info</span><span class="op">[</span><span class="st">"x2y1"</span><span class="op">]</span></span>
<span class="r-in"><span class="co"># returns the l_savedStates object of the states of the plot named "x2y1",</span></span>
<span class="r-in"><span class="co"># but</span></span>
<span class="r-in"><span class="va">pairs_info</span><span class="op">[</span><span class="st">"color"</span><span class="op">]</span></span>
<span class="r-in"><span class="co"># returns a LIST of colour vectors, by plot as they were named in pairs_info</span></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"><span class="co"># As a consequence, the following two are equivalent,</span></span>
<span class="r-in"><span class="va">pairs_info</span><span class="op">[</span><span class="st">"x2y1"</span><span class="op">]</span><span class="op">[</span><span class="st">"color"</span><span class="op">]</span></span>
<span class="r-in"><span class="co"># finds the value of "color" from an "l_savedStates" object</span></span>
<span class="r-in"><span class="co"># whereas</span></span>
<span class="r-in"><span class="va">pairs_info</span><span class="op">[</span><span class="st">"color"</span><span class="op">]</span><span class="op">[[</span><span class="st">"x2y1"</span><span class="op">]</span><span class="op">]</span></span>
<span class="r-in"><span class="co"># finds the value of "x2y1" from a "list" object</span></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"><span class="co"># Also, setting a state of an "l_savedStates" is possible</span></span>
<span class="r-in"><span class="co"># (though not generally recommended; better to save the states again)</span></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"><span class="va">p_saved_info</span><span class="op">[</span><span class="st">"color"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"red"</span>, <span class="fl">150</span><span class="op">)</span></span>
<span class="r-in"><span class="co"># changes the saved state "color" on p_saved_info</span></span>
<span class="r-in"><span class="co"># whereas</span></span>
<span class="r-in"><span class="va">pairs_info</span><span class="op">[</span><span class="st">"color"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"red"</span>, <span class="fl">150</span><span class="op">)</span></span>
<span class="r-in"><span class="co"># will set the red color for any plot within pairs_info having "color" saved.</span></span>
<span class="r-in"><span class="co"># In this way the assignment function via [] is trying to be clever</span></span>
<span class="r-in"><span class="co"># for l_savedStates for compound plots and so may have unintentional</span></span>
<span class="r-in"><span class="co"># consequences if the user is not careful.</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Generally, one does not want/need to change the value of saved states.</span></span>
<span class="r-in"><span class="co"># Instead, the states would be saved again from the interactive plot</span></span>
<span class="r-in"><span class="co"># if change is necessary.</span></span>
<span class="r-in"><span class="co"># Alternatively, more nuanced and careful control is maintained using</span></span>
<span class="r-in"><span class="co"># the $ selectors for lists.</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Adrian Waddell, R. Wayne Oldford.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

